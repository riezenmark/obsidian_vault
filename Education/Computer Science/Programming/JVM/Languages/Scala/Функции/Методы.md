---
создал заметку: 2024-07-24
tags:
  - Education
  - Scala
  - Programming
---
### Рекомендации о методах, которые не принимают параметров
Когда метод не принимает параметров, говорят, что он имеет уровень _arity_ (арности) 0 (_arity-0_). Аналогично, если метод принимает один параметр - это метод с _arity-1_.

Когда создаются методы _arity-0_:
- если метод выполняет побочные эффекты, такие как вызов `println`, метод объявляется с пустыми скобками.
- если метод не выполняет побочных эффектов, например, получение размера коллекции, что аналогично доступу к полю в коллекции, круглые скобки опускаются.

Например, этот метод выполняет побочный эффект, поэтому он объявлен с пустыми скобками:
```scala
def speak() = println("hi")
```
При вызове метода нужно обязательно указывать круглые скобки, если он был объявлен с ними:
```scala
speak     // ошибка: "method speak must be called with () argument"
speak()   // печатает "hi"
```
Хотя это всего лишь соглашение, его соблюдение значительно улучшает читаемость кода: с первого взгляда становится понятно, что метод с arity-0 имеет побочные эффекты.
### Методы расширения
сть много ситуаций, когда необходимо добавить функциональность к закрытым классам. Например, представьте, что у вас есть класс `Circle`, но вы не можете изменить его исходный код. Это может быть определено в сторонней библиотеке так:
```scala
case class Circle(x: Double, y: Double, radius: Double)
```
Если вы хотите добавить методы в этот класс, то можете определить их как методы расширения, например:
#### Scala 2
```scala
implicit class CircleOps(c: Circle) {
  def circumference: Double = c.radius * math.Pi * 2
  def diameter: Double = c.radius * 2
  def area: Double = math.Pi * c.radius * c.radius
}
```
В Scala 2 используйте `implicit class` #TODO.
#### Scala 3
```scala
extension (c: Circle)
  def circumference: Double = c.radius * math.Pi * 2
  def diameter: Double = c.radius * 2
  def area: Double = math.Pi * c.radius * c.radius
```
В Scala 3 используйте новую конструкцию `extension`. #TODO