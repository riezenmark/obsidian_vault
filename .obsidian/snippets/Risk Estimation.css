.kanban-plugin__board > :has(* > div > div[data-hitboxid*="Оценка рисков"]) {
  width: 100%;
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  grid-template-rows: repeat(5, 1fr);
  gap: 5px;
  height: 100%;
  overflow-y: auto; /* constrols the vertical scrolling, which is usually disabled in the kanban board */

  .kanban-plugin__lane-wrapper {
    grid-column: span 1;
    grid-row: span 1;
    height: 100%;
  }

  .kanban-plugin__lane-wrapper:nth-child(1) > div {
    background-color: rgba(var(--color-yellow-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(2) > div {
    background-color: rgba(var(--color-orange-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(3) > div {
    background-color: rgba(var(--color-orange-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(4) > div {
    background-color: rgba(var(--color-red-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(5) > div {
    background-color: rgba(var(--color-red-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(6) > div {
    background-color: rgba(var(--color-yellow-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(7) > div {
    background-color: rgba(var(--color-yellow-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(8) > div {
    background-color: rgba(var(--color-orange-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(9) > div {
    background-color: rgba(var(--color-orange-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(10) > div {
    background-color: rgba(var(--color-red-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(11) > div {
    background-color: rgba(var(--color-green-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(12) > div {
    background-color: rgba(var(--color-yellow-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(13) > div {
    background-color: rgba(var(--color-yellow-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(14) > div {
    background-color: rgba(var(--color-orange-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(15) > div {
    background-color: rgba(var(--color-orange-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(16) > div {
    background-color: rgba(var(--color-green-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(17) > div {
    background-color: rgba(var(--color-green-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(18) > div {
    background-color: rgba(var(--color-yellow-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(19) > div {
    background-color: rgba(var(--color-yellow-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(20) > div {
    background-color: rgba(var(--color-orange-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(21) > div {
    background-color: rgba(var(--color-green-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(22) > div {
    background-color: rgba(var(--color-green-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(23) > div {
    background-color: rgba(var(--color-green-rgb), 0.3);
  }
  .kanban-plugin__lane-wrapper:nth-child(24) > div {
    background-color: rgba(var(--color-yellow-rgb), 0.3);
  }

  .kanban-plugin__lane-wrapper:nth-child(25) > div {
    background-color: rgba(var(--color-yellow-rgb), 0.3);
  }
}

body:not(.is-mobile) {
  .kanban-plugin__board > :has(* > div > div[data-hitboxid*="Оценка рисков"]) {
    .kanban-plugin__lane-wrapper {
      width: 100%;
    }
  }
}

body.is-mobile {
  .kanban-plugin__board > :has(* > div > div[data-hitboxid*="Оценка рисков"]) {
    /* make the card one line on mobile to make the matrix compact */
    .kanban-plugin__item-title {
      line-height: 1.2;
      max-height: 1.2em;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  }
}

